webpackJsonp([17],{WBdr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),s=a("exGp"),o=a.n(s),i=a("Dd8w"),c=a.n(i),l=a("0jG4"),u={props:{modal:Object},watch:{"modal.show":{handler:function(){if(this.modal.show&&this.modal.row)return this.params=c()({},this.params,this.modal.row);this.modal.row=null},immediate:!0}},data:function(){return{params:this.initData(),rules:{name:{type:"string",required:!0,message:"必填项"}}}},methods:{initData:function(){return{_id:void 0,name:""}},modalOk:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.form.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:if(t.params._id){e.next=10;break}return e.next=8,t.create();case 8:e.next=12;break;case 10:return e.next=12,t.update();case 12:t.$Message.success("提交成功！"),t.initModal("ok");case 14:case"end":return e.stop()}},e,t)}))()},create:function(){var t=this;return o()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.create(t.$QS.stringify(t.params));case 2:a=e.sent,a.data;case 4:case"end":return e.stop()}},e,t)}))()},update:function(){var t=this;return o()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.update(t.$QS.stringify(t.params));case 2:a=e.sent,a.data;case 4:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.initModal("cancel")},initModal:function(t){this.params=this.initData(),this.modal.show=!1,this.$refs.form.resetFields(),this.$emit(t)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{width:"500",title:this.params._id?"编辑":"新增"},on:{"on-ok":t.modalOk,"on-cancel":t.cancel},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[a("div",{staticClass:"modal-form"},[a("Form",{ref:"form",attrs:{model:t.params,rules:t.rules,labelWidth:80}},[a("FormItem",{attrs:{label:"类别",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入类别名称"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}})],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.modalOk}},[t._v("确定")]),t._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:t.cancel}},[t._v("取消")])],1)])},staticRenderFns:[]},m=a("VU/8")(u,d,!1,null,null,null);e.default=m.exports}});