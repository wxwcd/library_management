webpackJsonp([4],{"tM+2":function(t,e){},"uem+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Xxa5"),a=r.n(n),i=r("exGp"),o=r.n(i),c=r("0jG4");function s(t,e){var r=t.data,n=t.dataset.createView("reading").source(r),a=new G2.Chart({container:"chart1",forceFit:!0,height:250});return a.source(n),function(t,e){e&&t.clear(),t.interval().position("name*borrowTotal").color("name"),t.render()}(a),a}r("YaEn");var l={name:"Ranking",data:function(){return{dataSet:null,loading1:!1,chart1:null,data:[],columns:function(){return[{type:"index",width:60,align:"center"},{title:"书名",key:"name",align:"center"},{title:"借阅状态",key:"borrowStatus",align:"center",width:140,render:function(t,e){return e.row.borrowStatus?t(Tag,{attrs:{type:"dot",color:"red"}},["已借出"]):t(Tag,{attrs:{type:"dot",color:"green"}},["未借出"])}},{title:"类别",key:"category",align:"center",render:function(t,e){var r=e.row;return r.category&&r.category.name||""}},{title:"出版社",key:"press",align:"center",render:function(t,e){var r=e.row;return r.press&&r.press.name||""}},{title:"作者",key:"author",align:"center"},{title:"简介",key:"desc",align:"center",render:function(t,e){var r=e.row,n=r.desc?r.desc.substring(0,5)+"...":"";return t("span",{attrs:{title:n}},[n])}},{title:"借阅次数",key:"borrowTotal",align:"center",render:function(t,e){return e.row.borrowTotal||0}},{title:"上架时间",key:"createdAt",align:"center",render:function(t,e){var r=e.row;return new Date(r.createdAt).Format("yyyy-MM-dd")}}]}.call(this)}},created:function(){this.dataSet=new DataSet,this.readingAmount()},methods:{readingAmount:function(){var t=this;return o()(a.a.mark(function e(){var r,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.readingAmount();case 2:r=e.sent,n=r.data,t.data=n,t.$nextTick(function(){t.chart1=s({dataset:t.dataSet,data:n})});case 6:case"end":return e.stop()}},e,t)}))()}}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Card",{staticClass:"con-card"},[r("h2",{staticClass:"font-center",attrs:{slot:"title"},slot:"title"},[t._v("\n            图书借阅量统计图\n        ")]),t._v(" "),r("Row",[t.loading1?r("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),r("div",[r("div",{staticClass:"min-height200",attrs:{id:"chart1"}})])],1)],1),t._v(" "),r("br"),r("br"),t._v(" "),r("Card",{staticClass:"con-card"},[r("h2",{staticClass:"font-center",attrs:{slot:"title"},slot:"title"},[t._v("\n            图书借阅量统计\n        ")]),t._v(" "),r("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1)],1)},staticRenderFns:[]};var u=r("VU/8")(l,d,!1,function(t){r("tM+2")},null,null);e.default=u.exports}});